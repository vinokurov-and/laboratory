# –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å API —á–µ—Ä–µ–∑ React. –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é jest + mockFetch

## –ß–∞—Å—Ç—å 1: –°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç UserTable.tsx

### 1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª:
src/components/UserTable.tsx

### 2. –ù–∞–ø–∏—à–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –ò–º–µ–µ—Ç –∫–Ω–æ–ø–∫—É ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π¬ª
- –ü—Ä–∏ –∫–ª–∏–∫–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Å https://jsonplaceholder.typicode.com/users
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: –ò–º—è, Email, –¢–µ–ª–µ—Ñ–æ–Ω, –°–∞–π—Ç
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É (Loading...) –∏ –æ—à–∏–±–∫—É (–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ)

```javascript
import { useState } from 'react'

export default function UserTable() {
  const [users, setUsers] = useState([])
  const [loading, setLoading] = useState(false)
  const [error, setError] = useState<string | null>(null)

  const fetchUsers = async () => {
    setLoading(true)
    setError(null)
    try {
      const response = await fetch('https://jsonplaceholder.typicode.com/users')
      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`)
      }
      const data = await response.json()
      setUsers(data)
    } catch (err) {
      setError(err instanceof Error ? err.message : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞')
    } finally {
      setLoading(false)
    }
  }

  return (
    <div className="user-table-container">
      <button onClick={fetchUsers} disabled={loading}>
        {loading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π'}
      </button>

      {error && <p style={{ color: 'red' }}>{error}</p>}

      {users.length > 0 && (
        <table border={1} style={{ marginTop: '20px', borderCollapse: 'collapse', width: '100%' }}>
          <thead>
            <tr>
              <th>–ò–º—è</th>
              <th>Email</th>
              <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
              <th>–°–∞–π—Ç</th>
            </tr>
          </thead>
          <tbody>
            {users.map((user) => (
              <tr key={user.id}>
                <td>{user.name}</td>
                <td>{user.email}</td>
                <td>{user.phone}</td>
                <td>
                  <a href={`http://${user.website}`} target="_blank" rel="noopener noreferrer">
                    {user.website}
                  </a>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      )}
    </div>
  )
}
```

## –ß–∞—Å—Ç—å 2: –ü–æ–¥–∫–ª—é—á–∏ UserTable –≤ App.tsx
–î–æ–±–∞–≤—å UserTable –≤ App.tsx

```typescript
import UserTable from './components/UserTable'
import './App.css'

function App() {
  return (
    <>
      <div>
        <a href="https://vite.dev" target="_blank">
          <img src="/vite.svg" className="logo" alt="Vite logo" />
        </a>
        <a href="https://react.dev" target="_blank">
          <img src="/react.svg" className="logo react" alt="React logo" />
        </a>
      </div>
      <h1>Vite + React</h1>
      <Counter />
      <UserTable />
      <p className="read-the-docs">
        Click on the Vite and React logos to learn more
      </p>
    </>
  )
}

export default App
```

## –ß–∞—Å—Ç—å 3: –ù–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã —Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º fetch

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª:
```
src/components/UserTable.test.tsx
```

2. –ù–∞–ø–∏—à–∏ —Ç—Ä–∏ —Ç–µ—Å—Ç–∞:

```javascript
import { render, screen, fireEvent } from '@testing-library/react'
import UserTable from './UserTable'

// üëá –ú–æ–∫–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–π fetch
global.fetch = jest.fn()

describe('UserTable', () => {
  beforeEach(() => {
    jest.clearAllMocks() 
  })

  test('renders button and does not show table initially', () => {
    render(<UserTable />)
    expect(screen.getByText(/–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/i)).toBeInTheDocument()
    expect(screen.queryByText(/–∏–≤–∞–Ω/i)).not.toBeInTheDocument()
  })

  test('loads users and displays them when button is clicked', async () => {
    // üëá –ú–æ–∫–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
    const mockUsers = [
      {
        id: 1,
        name: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
        email: 'ivan@example.com',
        phone: '+7 (999) 123-45-67',
        website: 'example.com',
      },
    ]

    (fetch as jest.Mock).mockResolvedValue({
      ok: true,
      json: async () => mockUsers,
    })

    render(<UserTable />)
    fireEvent.click(screen.getByText(/–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/i))

    // –ñ–¥—ë–º, –ø–æ–∫–∞ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è
    expect(await screen.findByText(/–∏–≤–∞–Ω –∏–≤–∞–Ω–æ–≤/i)).toBeInTheDocument()
    expect(screen.getByText(/ivan@example.com/i)).toBeInTheDocument()
  })

  test('shows error when fetch fails', async () => {
    // üëá –ú–æ–∫–∞–µ–º –æ—à–∏–±–∫—É
    (fetch as jest.Mock).mockRejectedValue(new Error('Network error'))

    render(<UserTable />)
    fireEvent.click(screen.getByText(/–∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π/i))

    expect(await screen.findByText(/–æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ/i)).toBeInTheDocument()
  })
})
```
‚úÖ –í–∞–∂–Ω–æ:
- –ù–∏–∫–∞–∫–∏—Ö —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (—á–µ—Ä–µ–∑ –º–æ–∫–∏)


## –ß–∞—Å—Ç—å 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏ —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ –∏ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å —É—Å–ø–µ—à–Ω–æ.
2. –ü—Ä–æ–≤–µ—Ä—å –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ Github

## –ß–∞—Å—Ç—å 5: –í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–¥–∞–Ω–∏–π
–í–∞—Ä–∏–∞–Ω—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ –≤–∞—à–µ–π —Ñ–∞–º–∏–ª–∏–∏ (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞):
–î–∏–∞–ø–∞–∑–æ–Ω –±—É–∫–≤	–í–∞—Ä–∏–∞–Ω—Ç
–ê, –ë, –í, –ì	–í–∞—Ä–∏–∞–Ω—Ç 1
–î, –ï, –Å, –ñ, –ó	–í–∞—Ä–∏–∞–Ω—Ç 2
–ò, –ô, –ö, –õ	–í–∞—Ä–∏–∞–Ω—Ç 3
–ú, –ù, –û, –ü	–í–∞—Ä–∏–∞–Ω—Ç 4
–†, –°, –¢, –£, –§	–í–∞—Ä–∏–∞–Ω—Ç 5
–•, –¶, –ß, –®	–í–∞—Ä–∏–∞–Ω—Ç 6
–©, –≠, –Æ, –Ø	–í–∞—Ä–∏–∞–Ω—Ç 7

# –í–∞—Ä–∏–∞–Ω—Ç 1: –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
–ó–∞–º–µ–Ω–∏—Ç–µ endpoint users –Ω–∞ comments (https://jsonplaceholder.typicode.com/comments)

–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –ò–∑–º–µ–Ω–∏—Ç–µ URL –≤ fetchUsers() –Ω–∞ .../comments
- –û–±–Ω–æ–≤–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É: –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –∫–æ–ª–æ–Ω–∫–∏ "–ò–º—è" (name), "Email", "–¢–µ–ª–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è" (body) ‚Äî –æ–±—Ä–µ–∑–∞—Ç—å –¥–æ 50 —Å–∏–º–≤–æ–ª–æ–≤ —Å "..."
- –ù–µ —Ç—Ä–æ–≥–∞–π—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É (–∫–Ω–æ–ø–∫—É, –∑–∞–≥—Ä—É–∑–∫—É, –æ—à–∏–±–∫—É)

–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:


```javascript
// –í–º–µ—Å—Ç–æ users –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ comments
<td>{user.body.length > 50 ? user.body.slice(0, 50) + '...' : user.body}</td>
```

# –í–∞—Ä–∏–∞–Ω—Ç 2: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–æ—Ä–æ–¥—É
–î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ—Å—Ç—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–ª—è –¥–∞–Ω–Ω—ã—Ö /users

–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –ü–æ–¥ —Ç–∞–±–ª–∏—Ü–µ–π –¥–æ–±–∞–≤—å—Ç–µ <select> —Å–æ —Å–ø–∏—Å–∫–æ–º –≥–æ—Ä–æ–¥–æ–≤: Moscow, Kulm, London (–∑–∞—Ö–∞—Ä–¥–∫–æ–¥—å—Ç–µ 3 –≥–æ—Ä–æ–¥–∞)
- –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞ (user.address.city)
- –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É "–°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä"
- –î–æ–±–∞–≤—å—Ç–µ –æ–¥–∏–Ω —Ç–µ—Å—Ç –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

# –í–∞—Ä–∏–∞–Ω—Ç 3: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∏–º–µ–Ω–∏
–î–æ–±–∞–≤—å—Ç–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –∏–º–µ–Ω–∏ (Name) –≤ —Ç–∞–±–ª–∏—Ü–µ /users

–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –°–¥–µ–ª–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–ª–æ–Ω–∫–∏ "–ò–º—è" –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º
- –ü–µ—Ä–≤—ã–π –∫–ª–∏–∫ ‚Äî —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É (–ê‚Üí–Ø), –≤—Ç–æ—Ä–æ–π –∫–ª–∏–∫ ‚Äî –æ–±—Ä–∞—Ç–Ω–æ (–Ø‚Üí–ê)
- –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–µ–ª–æ—á–∫—É (‚Üë‚Üì) —Ä—è–¥–æ–º —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –ø–æ–∫–∞–∑—ã–≤–∞—é—â—É—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–Ω–µ –¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å)

# –í–∞—Ä–∏–∞–Ω—Ç 4: –ü–æ—Å—Ç—ã —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
–†–∞–±–æ—Ç–∞–π—Ç–µ —Å /posts (100 –∑–∞–ø–∏—Å–µ–π) –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é
–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å .../posts
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø–æ 10 –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ–ª—è: ID, Title, Body –æ–±—Ä–µ–∑–∞—Ç—å –¥–æ 30 —Å–∏–º–≤–æ–ª–æ–≤)
- –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" / "–í–ø–µ—Ä–µ–¥" (–±–µ–∑ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–π —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü)
- –°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π, —á—Ç–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–í–ø–µ—Ä–µ–¥" –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ—Å—Ç—ã 11-20

# –í–∞—Ä–∏–∞–Ω—Ç 5: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ localStorage
–î–æ–±–∞–≤—å—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è /users
–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ localStorage.getItem('usersCache')
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å –∏ –Ω–µ —Å—Ç–∞—Ä—à–µ 1 –º–∏–Ω—É—Ç—ã (Date.now() - timestamp < 60000) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö
- –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –≥—Ä—É–∑–∏—Ç–µ —Å API –∏ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤ localStorage —Å timestamp
- –ü–æ–∫–∞–∂–∏—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫—É "–î–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞" –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑ localStorage
- –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É "–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à"

# –í–∞—Ä–∏–∞–Ω—Ç 6: –ü–æ–∏—Å–∫ –ø–æ email
–î–æ–±–∞–≤—å—Ç–µ –∂–∏–≤–æ–π –ø–æ–∏—Å–∫ –ø–æ email –¥–ª—è /users
–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –î–æ–±–∞–≤—å—Ç–µ <input type="text"> –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π —Å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–º "–ü–æ–∏—Å–∫ –ø–æ email"
- –ü—Ä–∏ –≤–≤–æ–¥–µ 3+ —Å–∏–º–≤–æ–ª–æ–≤ —Ñ–∏–ª—å—Ç—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
- –ü–æ–∏—Å–∫ —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π (toLowerCase())
- –ü–æ–∫–∞–∂–∏—Ç–µ "–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ", –µ—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—É—Å—Ç–æ–π
- –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç —Å –≤–≤–æ–¥–æ–º "ap" –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

# –í–∞—Ä–∏–∞–Ω—Ç 7: –ê–ª—å–±–æ–º—ã —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ñ–æ—Ç–æ
–†–∞–±–æ—Ç–∞–π—Ç–µ —Å /albums –∏ /photos
–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∞–ª—å–±–æ–º—ã —Å .../albums (–æ—Ç–æ–±—Ä–∞–∑–∏—Ç–µ ID, Title)
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–ª—å–±–æ–º–∞ –ø–æ–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ç–æ (–¥–æ–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Å .../photos?albumId=1 –∏ –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Promise.all() –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ü–æ–∫–∞–∂–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∫–∞..." –ø–æ–∫–∞ —Å—á–∏—Ç–∞–µ—Ç–µ —Ñ–æ—Ç–æ
