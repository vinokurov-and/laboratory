**Лабораторной работа №2**: **"Обработка и оптимизация изображений с Webpack"**

---

### **Цель работы**:

Изучить механизмы работы с загрузчиками (loaders) для оптимизации и обработки изображений в проекте, используя Webpack.

---

### **Теоретическая часть**:

#### **1. Зачем обрабатывать изображения в Webpack?**

Веб-приложения часто используют изображения, и эффективная оптимизация может существенно уменьшить размер бандла и улучшить производительность приложения. Используя Webpack, можно автоматизировать процессы, такие как сжатие изображений, преобразование в разные форматы и встраивание их как Data URIs.

#### **2. Что такое загрузчики (loaders) в контексте обработки изображений?**

Loaders позволяют Webpack интерпретировать и обрабатывать не только JavaScript-файлы, но и другие типы ресурсов, такие как изображения. Для оптимизации и обработки изображений часто используются такие загрузчики, как `file-loader`, `url-loader` и `image-webpack-loader`.

---

### **Практическая часть**:

#### **1. Установка необходимых загрузчиков**:

Для начала, вам потребуется установить следующие загрузчики:

```bash
npm install --save-dev file-loader url-loader image-webpack-loader
```

#### **2. Настройка Webpack для обработки изображений**:

Добавьте правила для обработки изображений в ваш конфигурационный файл Webpack (`webpack.config.js`):

```javascript
module.exports = {
    // ... другие настройки Webpack
    module: {
        rules: [
            {
                test: /\.(png|jpe?g|gif|svg)$/i,
                use: [
                    'file-loader',
                    {
                        loader: 'image-webpack-loader',
                        options: {
                            mozjpeg: {
                                progressive: true,
                                quality: 65
                            },
                            optipng: {
                                enabled: false,
                            },
                            pngquant: {
                                quality: [0.65, 0.90],
                                speed: 4
                            },
                            gifsicle: {
                                interlaced: false,
                            },
                            webp: {
                                quality: 75
                            }
                        }
                    },
                ],
            },
        ]
    }
}
```

Пример использования оптимизированного изображения:
Добавьте изображение в проект, импортируйте его и отобразите через script index.js на HTML странице.
В следующем примере мы импортируем изображение, оптимизированное с помощью Webpack, и добавляем его в DOM.

```javascript
// Импортируем оптимизированное изображение
import optimizedImage from './assets/optimized-picture.jpg';

console.log("Привет, Webpack!");

// Создаем новый элемент <img> для отображения изображения
const imageElement = document.createElement('img');

// Устанавливаем путь к изображению для элемента <img>
imageElement.setAttribute('src', optimizedImage);

// Получаем ссылку на элемент <body> в документе
const bodyElement = document.getElementsByTagName('body')[0];

// Добавляем созданный элемент <img> в элемент <body>
bodyElement.appendChild(imageElement);
```

В этом примере мы создаем новый элемент <img> и добавляем его в <body> нашего документа.

В итоге должна получиться примерно следующая структура:

<img width="322" alt="image" src="https://github.com/vinokurov-and/laboratory/assets/48560509/45318cc3-c229-4985-9858-4fa36e16555b">




**Задание для самостоятельного выполнения**:

---

**1. Использование `url-loader` для встраивания изображений**:

`url-loader` функционирует как `file-loader`, но может возвращать DataURL, если файл меньше заданного лимита. Это может быть полезно для уменьшения количества запросов к серверу для небольших изображений.

**Задача**: Настроить `url-loader` так, чтобы изображения меньше 8 кб вставлялись напрямую в ваш JavaScript-бандл в виде DataURL. Изображения, которые больше этого лимита, должны обрабатываться и сохраняться как отдельные файлы, как и раньше.

*Подсказка*: Для этого вам нужно будет добавить `url-loader` перед `file-loader` в массиве загрузчиков и указать опцию `limit`.
